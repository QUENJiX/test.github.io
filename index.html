<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>JHS-CinePlex | Complete Project Documentation</title>
<style>
        /* --- ROOT VARIABLES & GLOBAL STYLES --- */
        :root {
            --color-bg: #0d1117;
            --color-bg-secondary: #161b22;
            --color-border: #30363d;
            --color-text-primary: #c9d1d9;
            --color-text-secondary: #8b949e;
            --color-accent: #58a6ff;
            --color-accent-hover: #79c0ff;
            --color-code-bg: #161b22;
            --color-success: #3fb950;
            --color-error: #f85149;
            --color-warning: #d29922;
            --color-info: #76e3ea;
            --color-keyword: #ff7b72;
            --color-type: #d2a8ff;
            --color-string: #a5d6ff;
            --color-comment: #8b949e;
            --color-function: #d2a8ff;
            --color-number: #79c0ff;
            --sidebar-width: 300px;
            --font-primary: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            --font-mono: "SF Mono", "Consolas", "Liberation Mono", Menlo, monospace;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-primary);
            background-color: var(--color-bg);
            color: var(--color-text-primary);
            line-height: 1.7;
            transition: margin-left 0.3s ease;
        }
        
        body.sidebar-collapsed {
            margin-left: 0;
        }

        .container {
            display: flex;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* --- SCROLLBAR STYLING --- */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: var(--color-bg);
        }
        ::-webkit-scrollbar-thumb {
            background: #272c34;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #3a4049;
        }

        /* --- SIDEBAR NAVIGATION --- */
        .sidebar {
            width: var(--sidebar-width);
            padding: 20px;
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            flex-shrink: 0;
            background-color: var(--color-bg);
            border-right: 1px solid var(--color-border);
            transition: transform 0.3s ease;
            z-index: 100;
        }

        body.sidebar-collapsed .sidebar {
            transform: translateX(-100%);
        }

        .sidebar-header {
            font-size: 1.1em;
            color: var(--color-text-primary);
            padding: 10px 0;
            margin-bottom: 10px;
            border-bottom: 1px solid var(--color-border);
            font-weight: 600;
        }

        .sidebar nav ul {
            list-style: none;
        }
        
        .sidebar nav > ul > li > div {
            font-weight: 500;
            color: var(--color-text-primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }
        .sidebar nav > ul > li > div:hover {
            background-color: var(--color-bg-secondary);
        }

        .sidebar nav li a, .sidebar nav li > div {
            display: block;
            padding: 0 10px;
            color: var(--color-text-secondary);
            text-decoration: none;
            font-size: 0.9em;
            border-radius: 6px;
            transition: all 0.2s ease;
            border-left: 2px solid transparent;
        }
        .sidebar nav > ul > li > div > a {
            flex-grow: 1;
            padding: 0;
            font-size: 1em;
            color: var(--color-text-primary);
        }
        .sidebar nav > ul > li > div > a:hover {
            background: none;
            text-decoration: none;
        }

        .toggle-icon {
            font-size: 1.2em;
            transition: transform 0.2s ease;
            transform-origin: center;
            padding: 0 5px;
            color: var(--color-text-secondary);
        }

        .toggle-icon:hover {
            color: var(--color-accent);
        }

        .sidebar nav > ul > li.expanded > div > .toggle-icon {
            transform: rotate(90deg);
        }
        
        .sidebar nav ul ul {
            padding-left: 15px;
            margin-top: 5px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-in-out;
        }
        .sidebar nav > ul > li.expanded > ul {
            max-height: 1000px; /* Large enough to show all items */
        }
        
        .sidebar nav li a:hover {
            background-color: var(--color-bg-secondary);
            color: var(--color-accent-hover);
        }

        .sidebar nav li a.active {
            color: var(--color-accent-hover);
        }
        
        /* --- SIDEBAR TOGGLE BUTTON --- */
        #sidebar-toggle {
            position: fixed;
            top: 15px;
            left: var(--sidebar-width);
            transform: translateX(15px);
            background-color: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            color: var(--color-text-secondary);
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 101;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            transition: all 0.3s ease;
        }
        body.sidebar-collapsed #sidebar-toggle {
            left: 0;
            transform: translateX(15px) rotate(180deg);
        }

        /* --- MAIN CONTENT AREA --- */
        .content {
            flex-grow: 1;
            padding: 40px 60px;
            margin-left: var(--sidebar-width);
            transition: margin-left 0.3s ease;
        }
        body.sidebar-collapsed .content {
            margin-left: 0;
        }

        .content section {
            margin-bottom: 80px;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .content section.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        .content section:last-child {
            margin-bottom: 40px;
        }

        h1, h2, h3, h4, h5 {
            color: var(--color-text-primary);
            margin-bottom: 1.2rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--color-border);
        }
        
        h1 { font-size: 2.5em; letter-spacing: -1px; }
        h2 { font-size: 2em; margin-top: 3rem; }
        h3 { font-size: 1.5em; margin-top: 2.5rem; letter-spacing: -0.5px;}
        h4 { font-size: 1.2em; margin-top: 2rem; border-bottom: none; font-weight: 600; }
        h5 { font-size: 1.1em; margin-top: 1.8rem; border-bottom: none; color: var(--color-accent); font-family: var(--font-mono); }

        p, ul, ol {
            margin-bottom: 1rem;
            color: var(--color-text-secondary);
        }

        ul, ol {
            padding-left: 20px;
        }
        
        li {
            margin-bottom: 0.5rem;
        }

        a {
            color: var(--color-accent);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        a:hover {
            text-decoration: underline;
            color: var(--color-accent-hover);
        }

        strong {
            color: var(--color-text-primary);
            font-weight: 600;
        }
        
        hr {
            border: 0;
            height: 1px;
            background-color: var(--color-border);
            margin: 40px 0;
        }

        /* --- CODE BLOCKS & SYNTAX HIGHLIGHTING --- */
        pre {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 16px;
            overflow-x: auto;
            margin-bottom: 1rem;
            font-size: 0.9em;
        }

        code {
            font-family: var(--font-mono);
            background-color: rgba(139, 148, 158, 0.2);
            padding: 0.2em 0.4em;
            border-radius: 4px;
        }

        pre code {
            background-color: transparent;
            padding: 0;
            border-radius: 0;
            color: var(--color-text-primary);
            white-space: pre;
        }
        
        .c-keyword, .makefile-keyword { color: var(--color-keyword); }
        .c-type { color: var(--color-type); }
        .c-string, .bash-string { color: var(--color-string); }
        .c-comment, .bash-comment { color: var(--color-comment); font-style: italic; }
        .c-preprocessor { color: var(--color-warning); }
        .c-function { color: var(--color-function); }
        .c-number { color: var(--color-number); }
        .bash-command { color: var(--color-info); }
        .makefile-target { color: var(--color-function); }
        .makefile-variable { color: var(--color-type); }


        /* --- TERMINAL & UI MOCKUPS --- */
        .terminal-window {
            background-color: var(--color-code-bg);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            margin-top: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .terminal-header {
            background-color: #2c313a;
            padding: 8px 12px;
            display: flex;
            align-items: center;
        }
        .terminal-dots {
            display: flex;
            gap: 8px;
        }
        .terminal-dots span {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .dot-red { background-color: #ff5f56; }
        .dot-yellow { background-color: #ffbd2e; }
        .dot-green { background-color: #27c93f; }
        
        .terminal-body {
            padding: 16px;
            font-family: var(--font-mono);
            font-size: 0.9em;
            color: var(--color-text-secondary);
            white-space: pre-wrap;
            line-height: 1.5;
        }
        .terminal-body .prompt { color: var(--color-accent); }
        .terminal-body .success { color: var(--color-success); }
        .terminal-body .error { color: var(--color-error); }
        .terminal-body .info { color: var(--color-warning); }
        .terminal-body .user-input { color: var(--color-text-primary); }

        .screen-walkthrough {
            margin-bottom: 2.5rem;
        }

        .outcome {
            border-left: 3px solid var(--color-border);
            padding-left: 15px;
            margin: 10px 0;
            font-size: 0.9em;
        }
        
        /* --- TABLES --- */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            border: 1px solid var(--color-border);
        }

        th, td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--color-border);
        }

        thead th {
            background-color: var(--color-bg-secondary);
            color: var(--color-text-primary);
            font-weight: 600;
        }

        tbody tr:nth-of-type(even) {
            background-color: rgba(22, 27, 34, 0.5);
        }

        tbody tr:hover {
            background-color: #21262d;
        }

        /* --- MERMAID DIAGRAMS --- */
        .mermaid {
            background-color: var(--color-bg-secondary);
            border: 1px solid var(--color-border);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        /* --- RESPONSIVENESS --- */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }
            body:not(.sidebar-collapsed) .sidebar {
                transform: translateX(0);
            }
            body.sidebar-collapsed .sidebar {
                transform: translateX(-100%);
            }
            .content {
                margin-left: 0;
            }
             #sidebar-toggle {
                left: 0;
                transform: translateX(15px);
            }
            body.sidebar-collapsed #sidebar-toggle {
                transform: translateX(15px);
            }
            body:not(.sidebar-collapsed) #sidebar-toggle {
                transform: translateX(calc(var(--sidebar-width) + 15px));
            }
        }
        @media (max-width: 768px) {
            .content {
                padding: 20px 15px;
            }
            h1 { font-size: 2em; }
            h2 { font-size: 1.7em; }
            h3 { font-size: 1.3em; }
        }
    
    /* Floating Back to Top Button */
    #backToTopBtn {
        display: none;
        position: fixed;
        bottom: 40px;
        right: 40px;
        z-index: 999;
        font-size: 18px;
        border: none;
        outline: none;
        background-color: var(--color-bg-secondary);
        color: white;
        cursor: pointer;
        padding: 12px 16px;
        border-radius: 100px;
        transition: background-color 0.3s ease;
    }
    #backToTopBtn:hover {
        background-color: var(--color-text-secondary);
    }
    
    /* Sidebar Improvements */
    .sidebar nav ul {
        padding-left: 0;
    }
    .sidebar nav li {
        margin-bottom: 6px;
    }
    .sidebar nav li a {
        padding: 8px 12px;
        display: block;
        border-radius: 6px;
        transition: all 0.2s ease-in-out;
    }
    .sidebar nav li a:hover {
        background-color: var(--color-bg-secondary);
        color: var(--color-accent-hover);
        transform: translateX(4px);
    }
    .sidebar nav li.active > a {
        background-color: var(--color-accent);
        color: #fff;
    }
    
    .content section {
        opacity: 1 !important;
        transform: none !important;
    }
    </style>
</head>
<body>
<button id="sidebar-toggle" title="Toggle Sidebar">«</button>
<aside class="sidebar">
<div class="sidebar-header">JHS-CinePlex Docs</div>
<nav id="TableOfContents">
<ul>
<li data-section="overview">
<div><a href="#overview">Project Overview</a><span class="toggle-icon">›</span></div>
<ul>
<li><a href="#overview-intro">Introduction</a></li>
<li><a href="#overview-objectives">Objectives</a></li>
<li><a href="#overview-features">Key Features</a></li>
<li><a href="#overview-stack">Tech Stack</a></li>
</ul>
</li>
<li data-section="architecture">
<div><a href="#architecture">System Architecture</a></div>
</li>
<li data-section="data-structures">
<div><a href="#data-structures">Data Structures</a></div>
</li>
<li data-section="functions">
<div><a href="#functions">Function Docs</a><span class="toggle-icon">›</span></div>
<ul>
<li><a href="#functions-main">Main Functions</a></li>
<li><a href="#functions-auth">Auth Functions</a></li>
<li><a href="#functions-admin">Admin Functions</a></li>
<li><a href="#functions-user">User Functions</a></li>
<li><a href="#functions-persistence">Persistence</a></li>
<li><a href="#functions-utility">Utility</a></li>
</ul>
</li>
<li data-section="flowcharts">
<div><a href="#flowcharts">Program Flowcharts</a><span class="toggle-icon">›</span></div>
<ul>
<li><a href="#flowcharts-main">Main Program Flow</a></li>
<li><a href="#flowcharts-admin">Admin Module Flow</a></li>
<li><a href="#flowcharts-user">User Module Flow</a></li>
<li><a href="#flowcharts-auth">Authentication Flow</a></li>
<li><a href="#flowcharts-data">Data Persistence Flow</a></li>
</ul>
</li>
<li data-section="file-io">
<div><a href="#file-io">File I/O</a></div>
</li>
<li data-section="navigation">
<div><a href="#navigation">Navigating the System</a></div>
</li>
<li data-section="limitations">
<div><a href="#limitations">Limitations &amp; Future</a><span class="toggle-icon">›</span></div>
<ul>
<li><a href="#limitations-current">Current Limitations</a></li>
<li><a href="#limitations-future">Future Improvements</a></li>
<li><a href="#limitations-priority">Priority</a></li>
</ul>
</li>
<li data-section="dev-notes">
<div><a href="#dev-notes">Development Notes</a><span class="toggle-icon">›</span></div>
<ul>
<li><a href="#dev-notes-org">Organization</a></li>
<li><a href="#dev-notes-standards">Standards</a></li>
</ul>
</li>
<li data-section="conclusion">
<div><a href="#conclusion">Conclusion</a></div>
</li>
</ul>
</nav>
</aside>
<div class="container">
<main class="content">
<section id="hero">
<h1>JHS-CinePlex Movie Ticket Booking System</h1>
<h3>CSE115 Semester Final Project Documentation</h3>
<p>This document provides a complete and comprehensive overview of the JHS-CinePlex system. It details the project's architecture, data structures, features, and implementation, serving as a guide for developers, administrators, and users.</p>
</section>
<section id="overview">
<h2>Project Overview</h2>
<h3 id="overview-intro">Introduction</h3>
<p>JHS-CinePlex is a comprehensive Command Line Interface (CLI)-based movie ticket booking system developed in C. This system provides a complete solution for cinema management, allowing administrators to manage movies and showtimes while customers can browse available movies, purchase tickets, and view their purchase history. It features a visually enhanced interface with colors and formatted tables for a professional and user-friendly experience.</p>
<h3 id="overview-objectives">System Objectives</h3>
<ul>
<li>Provide a user-friendly and visually appealing interface for both administrators and customers.</li>
<li>Enable efficient movie management (add, edit, remove).</li>
<li>Facilitate secure user authentication and registration.</li>
<li>Streamline the ticket purchasing process.</li>
<li>Maintain persistent data storage for movies, users, and transactions.</li>
<li>Generate purchase reports and history tracking.</li>
</ul>
<h3 id="overview-features">Key Features</h3>
<ul>
<li><strong>Dual Role System:</strong> Administrator and Customer access levels.</li>
<li><strong>User Management:</strong> Registration and login functionality.</li>
<li><strong>Movie Management:</strong> Add, edit, remove movies with showtimes and pricing.</li>
<li><strong>Enhanced Visual Interface:</strong> Features styled headers, color-coded feedback, and aligned tables for improved readability.</li>
<li><strong>Ticket Booking:</strong> Browse movies and purchase tickets with seat availability tracking.</li>
<li><strong>Purchase History:</strong> Track individual and all purchases in a clean, tabular format.</li>
<li><strong>Data Persistence:</strong> Save and load data from text files.</li>
<li><strong>Default Data:</strong> Pre-populated with sample movies for demonstration.</li>
</ul>
<h3 id="overview-stack">Technology Stack</h3>
<ul>
<li><strong>Language:</strong> C (ANSI C)</li>
<li><strong>Platform:</strong> Cross-platform (Windows/Linux/macOS)</li>
<li><strong>Data Storage:</strong> Text files (<code>movie_list.txt</code>, <code>tickets.txt</code>, <code>users.txt</code>)</li>
<li><strong>Libraries:</strong> Standard C libraries (<code>stdio.h</code>, <code>stdlib.h</code>, <code>string.h</code>, <code>ctype.h</code>, <code>time.h</code>)</li>
</ul>
<h3 id="overview-roles">Role-Based Capabilities</h3>
<ul>
<li><strong>Administrator:</strong> Add/Edit/Remove movies, View all movies, View all purchases.</li>
<li><strong>Customer:</strong> View available movies, Purchase tickets, View personal purchase history.</li>
</ul>
</section>
<section id="architecture">
<h2>System Architecture</h2>
<h3>Overall System Design</h3>
<p>The system follows a modular architecture with clear separation of concerns:</p>
<h3>Module Breakdown</h3>
<ol>
<li><strong>Main Module</strong>
<p>Entry point of the application. Handles main menu navigation, coordinates between admin and user modules, and manages program termination and data saving.</p>
</li>
<li><strong>Administrator Module</strong>
<p>Handles authentication for admin users, movie management operations, purchase report generation, and system oversight capabilities.</p>
</li>
<li><strong>User Module</strong>
<p>Manages customer authentication and registration, movie browsing and ticket purchasing, personal purchase history viewing, and user account management.</p>
</li>
<li><strong>Data Persistence Module</strong>
<p>Responsible for all file I/O operations, data serialization/deserialization, default data initialization, and error handling for file operations.</p>
</li>
</ol>
</section>
<section id="data-structures">
<h2>Data Structures</h2>
<h3>Core Data Structures</h3>
<h4>1. Movie Structure</h4>
<pre><code class="language-c"><span class="c-keyword">struct</span> <span class="c-type">Movie</span>{
    <span class="c-type">char</span> title[<span class="c-number">200</span>];
    <span class="c-type">char</span> genre[<span class="c-number">100</span>];
};</code></pre>
<p><strong>Purpose:</strong> Stores basic movie information including title and genre classification.</p>
<h4>2. Showtime Structure</h4>
<pre><code class="language-c"><span class="c-keyword">struct</span> <span class="c-type">Showtime</span>{
    <span class="c-type">char</span> time[<span class="c-number">100</span>];
    <span class="c-type">int</span> price;
    <span class="c-type">int</span> available_Seats;
};</code></pre>
<p><strong>Purpose:</strong> Manages scheduling and availability information for each movie.</p>
<h4>3. Ticket Structure</h4>
<pre><code class="language-c"><span class="c-keyword">struct</span> <span class="c-type">Ticket</span> {
    <span class="c-type">char</span> movie_Title[<span class="c-number">200</span>];
    <span class="c-type">char</span> show_Time[<span class="c-number">50</span>];
    <span class="c-type">int</span> ticket_Count;
    <span class="c-type">int</span> total_Amount;
    <span class="c-type">char</span> username[<span class="c-number">50</span>];
    <span class="c-type">char</span> purchase_Date[<span class="c-number">20</span>];
};</code></pre>
<p><strong>Purpose:</strong> Records individual ticket purchases with complete transaction details.</p>
<h4>4. User Structure</h4>
<pre><code class="language-c"><span class="c-keyword">struct</span> <span class="c-type">User</span> {
    <span class="c-type">char</span> username[<span class="c-number">50</span>];
    <span class="c-type">char</span> password[<span class="c-number">50</span>];
};</code></pre>
<p><strong>Purpose:</strong> Stores user authentication credentials.</p>
<h3>Global Variables</h3>
<h4>Data Arrays</h4>
<pre><code class="language-c"><span class="c-keyword">struct</span> <span class="c-type">Movie</span> m[<span class="c-number">100</span>];
<span class="c-keyword">struct</span> <span class="c-type">Showtime</span> s[<span class="c-number">100</span>];
<span class="c-keyword">struct</span> <span class="c-type">Ticket</span> all_purchases[<span class="c-number">200</span>];
<span class="c-keyword">struct</span> <span class="c-type">User</span> all_users[<span class="c-number">100</span>];
</code></pre>
<h4>Counters</h4>
<pre><code class="language-c"><span class="c-type">int</span> movie_count = <span class="c-number">0</span>;
<span class="c-type">int</span> purchase_count = <span class="c-number">0</span>;
<span class="c-type">int</span> user_count = <span class="c-number">0</span>;</code></pre>
<h3>Data Relationships</h3>
<p>The system maintains parallel arrays where the index correlates related data:</p>
<ul>
<li><code>m[i]</code> and <code>s[i]</code> represent the same movie's information and showtime details.</li>
<li><code>all_purchases[i]</code> stores individual purchase records.</li>
<li><code>all_users[i]</code> contains user account information.</li>
</ul>
<p>Note: Field names such as 'available_Seats' and 'purchase_Date' are case-sensitive and match exactly the definitions in main.c.</p></section>
<section id="functions">
<h2>Function Documentation</h2>
<h3 id="functions-main">Main Functions</h3>
<h5>main()</h5>
<ul>
<li><strong>Purpose:</strong> Entry point and main program loop.</li>
<li><strong>Functionality:</strong> Initializes data by reading all files, then enters a loop to display the main menu. It routes user choices to the Admin or Customer portals and saves all data to files upon a clean exit.</li>
</ul>
<pre><code class="language-c"><span class="c-type">int</span> <span class="c-function">main</span>(){
    <span class="c-function">Read_Users</span>();
    <span class="c-function">Read_Movies</span>();
    <span class="c-function">Read_Tickets</span>();

    <span class="c-type">int</span> choice;
    <span class="c-keyword">while</span>(<span class="c-number">1</span>){
        <span class="c-function">clear_screen</span>();
        <span class="c-function">print_header</span>(<span class="c-string">"Welcome to JHS-CinePlex"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"\n   [1] Admin Login\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"   [2] Customer Login / Register\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"   [3] Exit\n\n"</span>);
        <span class="c-function">printf</span>(<span class="c-string">"&gt;&gt; Enter your choice: "</span>);
        
        <span class="c-keyword">if</span> (<span class="c-function">scanf</span>(<span class="c-string">"%d"</span>, &amp;choice) != <span class="c-number">1</span>) {
            choice = -<span class="c-number">1</span>; <span class="c-comment">// Invalid input</span>
        }
        <span class="c-keyword">while</span> (<span class="c-function">getchar</span>() != <span class="c-string">'\n'</span>);

        <span class="c-keyword">switch</span>(choice){
            <span class="c-keyword">case</span> <span class="c-number">1</span>: <span class="c-function">Admin</span>(); <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">2</span>: <span class="c-function">User_Auth_Portal</span>(); <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">3</span>:
                <span class="c-function">Write_Movies</span>();
                <span class="c-function">Write_Tickets</span>();
                <span class="c-function">Write_Users</span>();
                <span class="c-function">print_success</span>(<span class="c-string">"All data saved. Thank you for using JHS-CinePlex!"</span>);
                <span class="c-keyword">return</span> <span class="c-number">0</span>;
            <span class="c-keyword">default</span>:
                <span class="c-function">print_error</span>(<span class="c-string">"Invalid choice. Please try again."</span>);
                <span class="c-function">Press_Enter_to_Continue</span>();
        }
    }
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
<h5>Admin()</h5>
<ul>
<li><strong>Purpose:</strong> Administrator authentication and main menu.</li>
<li><strong>Functionality:</strong> Prompts for admin credentials, validates them against a hardcoded list, and if successful, enters the admin menu loop.</li>
</ul>
<pre><code class="language-c"><span class="c-type">void</span> <span class="c-function">Admin</span>(){
    <span class="c-comment">/* ... variable declarations ... */</span>
    <span class="c-comment">// Prompts for username and password</span>
    <span class="c-keyword">if</span> ((<span class="c-function">strcmp</span>(username, <span class="c-string">"Hasib"</span>) == <span class="c-number">0</span> &amp;&amp; <span class="c-function">strcmp</span>(password, <span class="c-string">"hasib123"</span>) == <span class="c-number">0</span>) ||
        (<span class="c-function">strcmp</span>(username, <span class="c-string">"Jaima"</span>) == <span class="c-number">0</span> &amp;&amp; <span class="c-function">strcmp</span>(password, <span class="c-string">"jaima123"</span>) == <span class="c-number">0</span>) ||
        (<span class="c-function">strcmp</span>(username, <span class="c-string">"Shimu"</span>) == <span class="c-number">0</span> &amp;&amp; <span class="c-function">strcmp</span>(password, <span class="c-string">"shimu123"</span>) == <span class="c-number">0</span>)) {
        is_admin = <span class="c-number">1</span>;
    }
    <span class="c-comment">// ... rest of the function for menu loop ...</span>
}</code></pre>
<h5>User(char* current_username)</h5>
<ul>
<li><strong>Purpose:</strong> Customer interface and menu system.</li>
<li><strong>Functionality:</strong> Takes the logged-in user's name, displays a personalized menu, and handles routing to user-specific functions like viewing movies or purchase history.</li>
</ul>
<pre><code class="language-c"><span class="c-keyword">void</span> <span class="c-function">User</span>(<span class="c-type">char</span>* current_username){
    <span class="c-type">int</span> choice;
    <span class="c-keyword">while</span>(<span class="c-number">1</span>){
        <span class="c-comment">/* ... display menu and get user input ... */</span>
        <span class="c-keyword">switch</span>(choice){
            <span class="c-keyword">case</span> <span class="c-number">1</span>: <span class="c-function">View_Available_Movies</span>(); <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">2</span>: <span class="c-function">Purchase_Tickets</span>(current_username); <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">3</span>: <span class="c-function">View_My_Purchases</span>(current_username); <span class="c-keyword">break</span>;
            <span class="c-keyword">case</span> <span class="c-number">4</span>: <span class="c-keyword">return</span>;
            <span class="c-keyword">default</span>:
                <span class="c-function">print_error</span>(<span class="c-string">"Invalid choice."</span>);
                <span class="c-function">Press_Enter_to_Continue</span>();
        }
    }
}</code></pre>
<h3 id="functions-auth">Authentication Functions</h3>
<h5>User_Auth_Portal()</h5>
<ul>
<li><strong>Purpose:</strong> User authentication entry point.</li>
<li><strong>Functionality:</strong> Displays a menu for customers to either Login or Register. Based on their choice, it calls the appropriate function.</li>
</ul>
<pre><code class="language-c"><span class="c-keyword">void</span> <span class="c-function">User_Auth_Portal</span>(){
    <span class="c-comment">/* ... variable declarations ... */</span>
    <span class="c-comment">// Display menu for login, register, or back</span>
    <span class="c-comment">/* ... get user choice ... */</span>

    <span class="c-keyword">switch</span>(choice){
        <span class="c-keyword">case</span> <span class="c-number">1</span>:
            <span class="c-keyword">if</span>(<span class="c-function">User_Login</span>(current_username)){
                <span class="c-function">User</span>(current_username);
            }
            <span class="c-keyword">break</span>;
        <span class="c-keyword">case</span> <span class="c-number">2</span>:
            <span class="c-function">User_Register</span>();
            <span class="c-keyword">break</span>;
        <span class="c-keyword">case</span> <span class="c-number">3</span>: <span class="c-keyword">return</span>;
        <span class="c-keyword">default</span>:
            <span class="c-function">print_error</span>(<span class="c-string">"Invalid choice."</span>);
            <span class="c-function">Press_Enter_to_Continue</span>();
    }
}</code></pre>
<h5>User_Login(char* username_buffer)</h5>
<ul>
<li><strong>Purpose:</strong> Authenticates user credentials.</li>
<li><strong>Functionality:</strong> Prompts for a username and password, then iterates through the <code>all_users</code> array to find a match. Returns <code>1</code> on success, <code>0</code> on failure.</li>
</ul>
<pre><code class="language-c"><span class="c-type">int</span> <span class="c-function">User_Login</span>(<span class="c-type">char</span>* username_buffer){
    <span class="c-comment">// ... prompts for username and password ...</span>
    <span class="c-keyword">for</span>(<span class="c-type">int</span> i = <span class="c-number">0</span>; i &lt; user_count; i++){
        <span class="c-keyword">if</span>(<span class="c-function">strcmp</span>(all_users[i].username, username) == <span class="c-number">0</span> &amp;&amp; <span class="c-function">strcmp</span>(all_users[i].password, password) == <span class="c-number">0</span>){
            <span class="c-function">print_success</span>(<span class="c-string">"Login successful!"</span>);
            <span class="c-function">strcpy</span>(username_buffer, username);
            <span class="c-function">Press_Enter_to_Continue</span>();
            <span class="c-keyword">return</span> <span class="c-number">1</span>;
        }
    }
    <span class="c-comment">// ... error handling ...</span>
    <span class="c-keyword">return</span> <span class="c-number">0</span>;
}</code></pre>
<h5>User_Register()</h5>
<ul>
<li><strong>Purpose:</strong> Registers new user accounts.</li>
<li><strong>Functionality:</strong> Prompts for a new username and password. It first checks if the username already exists to prevent duplicates. If not, it adds the new user to the <code>all_users</code> array, increments <code>user_count</code>, and immediately writes the updated user list to <code>users.txt</code>.</li>
</ul>
<pre><code class="language-c"><span class="c-keyword">void</span> <span class="c-function">User_Register</span>(){
    <span class="c-comment">/* ... variable declarations and user prompts ... */</span>

    <span class="c-keyword">for</span>(<span class="c-type">int</span> i=<span class="c-number">0</span>; i&lt;user_count; i++){
        <span class="c-keyword">if</span>(<span class="c-function">strcmp</span>(all_users[i].username, username) == <span class="c-number">0</span>){
            <span class="c-function">print_error</span>(<span class="c-string">"Username already exists. Please try another."</span>);
            <span class="c-function">Press_Enter_to_Continue</span>();
            <span class="c-keyword">return</span>;
        }
    }

    <span class="c-comment">/* ... get and set password ... */</span>
    <span class="c-function">strcpy</span>(all_users[user_count].username, username);
    <span class="c-function">strcpy</span>(all_users[user_count].password, password);
    user_count++;

    <span class="c-comment">/* ... save data and display success message ... */</span>
}</code></pre>
<h3 id="functions-admin">Administrator Functions</h3>
<h5>Admin_Add_Movie()</h5>
<p>Prompts the administrator for all movie details (title, genre, showtime, price, seats), adds the new movie and showtime to their respective arrays, and increments <code>movie_count</code>.</p>
<h5>Admin_Edit_Movie()</h5>
<p>Lists all current movies. The admin selects one to edit. The system then prompts for new values for price and seats, updating the <code>s[i]</code> structure for the selected movie.</p>
<h5>Admin_Remove_Movie()</h5>
<p>Lists all movies for selection. When a movie is chosen for removal, the function shifts all subsequent elements in both the <code>m</code> and <code>s</code> arrays one position to the left to fill the gap, then decrements <code>movie_count</code>.</p>
<h5>View_All_Purchases()</h5>
<p>Displays a formatted table of every purchase recorded in the <code>all_purchases</code> array, including the purchaser's username, movie title, ticket count, and total amount.</p>
<h3 id="functions-user">User Functions</h3>
<h5>Purchase_Tickets(char* current_username)</h5>
<p>Guides a user through purchasing tickets. It lists available movies, validates the user's choice and desired quantity against available seats, shows a summary, and asks for confirmation. If confirmed, it updates the seat count, creates a new <code>Ticket</code> record, and appends it to the <code>all_purchases</code> array.</p>
<h5>View_My_Purchases(char* current_username)</h5>
<p>Iterates through the <code>all_purchases</code> array and prints only the records where the username matches the <code>current_username</code>. It also calculates and displays the total amount spent by that user.</p>
<h3 id="functions-persistence">Data Persistence Functions</h3>
<p>These functions handle the serialization and deserialization of data between the in-memory structures and the plain text files.</p>
<h5>Read_Movies() / Write_Movies()</h5>
<p><code>Read_Movies</code> reads the <code>movie_list.txt</code> file five lines at a time, populating the parallel <code>m</code> and <code>s</code> arrays. If the file doesn't exist, it calls <code>Default_Movies</code>. <code>Write_Movies</code> does the reverse, writing the contents of the <code>m</code> and <code>s</code> arrays back to the file.</p>
<pre><code class="language-c"><span class="c-type">void</span> <span class="c-function">Read_Movies</span>(){
    FILE *file = <span class="c-function">fopen</span>(<span class="c-string">"movie_list.txt"</span>, <span class="c-string">"r"</span>);
    <span class="c-keyword">if</span> (file == NULL) {
        <span class="c-function">Default_Movies</span>();
        <span class="c-function">Write_Movies</span>();
        <span class="c-keyword">return</span>;
    }
    <span class="c-type">char</span> buffer[<span class="c-number">256</span>];
    <span class="c-keyword">while</span>(<span class="c-function">fgets</span>(m[movie_count].title, <span class="c-number">200</span>, file) != NULL){
        <span class="c-function">strtok</span>(m[movie_count].title, <span class="c-string">"\n"</span>);
        <span class="c-function">fgets</span>(m[movie_count].genre, <span class="c-number">100</span>, file); <span class="c-function">strtok</span>(m[movie_count].genre, <span class="c-string">"\n"</span>);
        <span class="c-function">fgets</span>(s[movie_count].time, <span class="c-number">100</span>, file); <span class="c-function">strtok</span>(s[movie_count].time, <span class="c-string">"\n"</span>);
        <span class="c-function">fgets</span>(buffer, <span class="c-keyword">sizeof</span>(buffer), file); <span class="c-function">sscanf</span>(buffer, <span class="c-string">"%d"</span>, &amp;s[movie_count].price);
        <span class="c-function">fgets</span>(buffer, <span class="c-keyword">sizeof</span>(buffer), file); <span class="c-function">sscanf</span>(buffer, <span class="c-string">"%d"</span>, &amp;s[movie_count].available_Seats);
        movie_count++;
    }
    <span class="c-function">fclose</span>(file);
}</code></pre>
<h5>Read_Tickets() / Write_Tickets()</h5>
<p>These functions manage the <code>tickets.txt</code> file, reading 6 lines per record into the <code>all_purchases</code> array or writing from it.</p>
<h5>Read_Users() / Write_Users()</h5>
<p>These functions manage the <code>users.txt</code> file, using <code>fscanf</code> to read space-separated username/password pairs and <code>fprintf</code> to write them back.</p>
<h3 id="functions-utility">Utility Functions</h3>
<p>These are helper functions for UI and program flow control.</p>
<ul>
<li><code>clear_screen()</code>: Clears the terminal screen (cross-platform).</li>
<li><code>print_header(const char* title)</code>: Prints a standardized, colored header.</li>
<li><code>print_success/error/warning()</code>: Prints styled feedback messages.</li>
<li><code>Press_Enter_to_Continue()</code>: Pauses execution until the user presses Enter, allowing them to read information before the screen clears.</li>
</ul>
<h3 id="functions-misc">Additional Helper &amp; Menu Functions</h3>
<h5>Admin_Menu()</h5>
<p>Prints the administrator panel menu options exactly as displayed in the terminal. Used inside <code>Admin()</code> for looping choices.</p>
<h5>User_Menu(char* username)</h5>
<p>Prints the customer menu options personalized with the current username. Used inside <code>User()</code> for looping choices.</p>
<h5>Default_Movies()</h5>
<p>Initializes the system with sample movie entries if no <code>movie_list.txt</code> file is found.</p>
<h5>clear_screen()</h5>
<p>Clears the terminal screen, using <code>system("cls")</code> on Windows and <code>system("clear")</code> on other systems.</p>
<h5>print_warning(const char* message)</h5>
<p>Prints a yellow-colored informational message prefixed with <code>[INFO]</code>.</p>
</section>
<section id="flowcharts">
<h2>Program Flowcharts</h2>
<p>Visual representations of the system's logic and user flow.</p>
<h3 id="flowcharts-main">Main Program Flow</h3>
<div class="mermaid">
                graph TD
                    A[Start Program] --&gt; B[Initialize Data]
                    B --&gt; C[Display Main Menu]
                    C --&gt; D{User Choice}
                    D --&gt;|Admin Login| E[Admin Authentication]
                    D --&gt;|Customer Portal| F[User Authentication Portal]
                    D --&gt;|Exit| G[Save All Data]
                    E --&gt; H{Authentication Successful?}
                    H --&gt;|Yes| I[Admin Menu Loop]
                    H --&gt;|No| J[Show Error Message]
                    J --&gt; C
                    I --&gt; K{Admin Choice}
                    K --&gt;|Add Movie| L[Admin Add Movie]
                    K --&gt;|Edit Movie| M[Admin Edit Movie]
                    K --&gt;|Remove Movie| N[Admin Remove Movie]
                    K --&gt;|View Movies| O[View Available Movies]
                    K --&gt;|View Purchases| P[View All Purchases]
                    K --&gt;|Logout| C
                    L --&gt; I
                    M --&gt; I
                    N --&gt; I
                    O --&gt; I
                    P --&gt; I
                    F --&gt; Q{User Choice}
                    Q --&gt;|Login| R[User Login]
                    Q --&gt;|Register| S[User Registration]
                    Q --&gt;|Back| C
                    R --&gt; T{Login Successful?}
                    T --&gt;|Yes| U[User Menu Loop]
                    T --&gt;|No| V[Show Error Message]
                    V --&gt; F
                    S --&gt; W[Registration Successful?]
                    W --&gt;|Yes| X[Show Success Message]
                    W --&gt;|No| Y[Show Error Message]
                    X --&gt; F
                    Y --&gt; F
                    U --&gt; Z{User Choice}
                    Z --&gt;|View Movies| O
                    Z --&gt;|Purchase Tickets| AA[Purchase Tickets]
                    Z --&gt;|View History| AB[View My Purchases]
                    Z --&gt;|Logout| C
                    AA --&gt; U
                    AB --&gt; U
                    G --&gt; AC[Exit Program]
                </div>
<h3 id="flowcharts-admin">Administrator Module Flow</h3>
<div class="mermaid">
                graph TD
                    A[Admin Module Start] --&gt; B[Display Admin Login]
                    B --&gt; C[Enter Username/Password]
                    C --&gt; D{Credentials Valid?}
                    D --&gt;|No| E[Show Access Denied]
                    E --&gt; F[Return to Main Menu]
                    D --&gt;|Yes| G[Display Admin Menu]
                    G --&gt; H{Admin Selection}
                    H --&gt;|Add Movie| I[Add Movie Process]
                    H --&gt;|Edit Movie| J[Edit Movie Process]
                    H --&gt;|Remove Movie| K[Remove Movie Process]
                    H --&gt;|View Movies| L[Display All Movies]
                    H --&gt;|View Purchases| M[Display All Purchases]
                    H --&gt;|Logout| N[Return to Main Menu]
                    I --&gt; O[Enter Movie Details]
                    O --&gt; P[Validate Input]
                    P --&gt; Q[Add to Arrays]
                    Q --&gt; R[Update Movie Count]
                    R --&gt; S[Show Success Message]
                    S --&gt; G
                    J --&gt; T[List All Movies]
                    T --&gt; U[Select Movie to Edit]
                    U --&gt; V[Enter New Values]
                    V --&gt; W[Update Movie Data]
                    W --&gt; X[Show Success Message]
                    X --&gt; G
                    K --&gt; Y[List All Movies]
                    Y --&gt; Z[Select Movie to Remove]
                    Z --&gt; AA[Remove from Arrays]
                    AA --&gt; AB[Update Movie Count]
                    AB --&gt; AC[Show Success Message]
                    AC --&gt; G
                    L --&gt; AD[Display Movie List]
                    AD --&gt; AE[Wait for User Input]
                    AE --&gt; G
                    M --&gt; AF[Display All Purchases]
                    AF --&gt; AG[Wait for User Input]
                    AG --&gt; G
                </div>
<h3 id="flowcharts-user">User Module Flow</h3>
<div class="mermaid">
                graph TD
                    A[User Module Start] --&gt; B[Display User Menu]
                    B --&gt; C{User Selection}
                    C --&gt;|View Movies| D[View Available Movies]
                    C --&gt;|Purchase Tickets| E[Purchase Tickets Process]
                    C --&gt;|View History| F[View My Purchases]
                    C --&gt;|Logout| G[Return to Main Menu]
                    D --&gt; H[Display Movie List]
                    H --&gt; I[Show Movie Details]
                    I --&gt; J[Wait for User Input]
                    J --&gt; B
                    E --&gt; K[List Available Movies]
                    K --&gt; L[Select Movie]
                    L --&gt; M{Movie Available?}
                    M --&gt;|No| N[Show Sold Out Message]
                    N --&gt; O[Wait for Input]
                    O --&gt; B
                    M --&gt;|Yes| P[Enter Ticket Quantity]
                    P --&gt; Q{Quantity Valid?}
                    Q --&gt;|No| R[Show Error Message]
                    R --&gt; O
                    Q --&gt;|Yes| S[Calculate Total Price]
                    S --&gt; T[Show Purchase Summary]
                    T --&gt; U{Confirm Purchase?}
                    U --&gt;|No| V[Cancel Purchase]
                    V --&gt; O
                    U --&gt;|Yes| W[Process Purchase]
                    W --&gt; X[Update Seat Count]
                    X --&gt; Y[Record Transaction]
                    Y --&gt; Z[Show Success Message]
                    Z --&gt; O
                    F --&gt; AA[Filter User Purchases]
                    AA --&gt; AB[Display Purchase History]
                    AB --&gt; AC[Calculate Total Spending]
                    AC --&gt; AD[Show Summary]
                    AD --&gt; AE[Wait for User Input]
                    AE --&gt; B
                </div>
<h3 id="flowcharts-auth">Authentication Flow</h3>
<div class="mermaid">
                graph TD
                    A[Authentication Start] --&gt; B[Display Auth Portal]
                    B --&gt; C{User Choice}
                    C --&gt;|Login| D[Login Process]
                    C --&gt;|Register| E[Registration Process]
                    C --&gt;|Back| F[Return to Main Menu]
                    D --&gt; G[Enter Username]
                    G --&gt; H[Enter Password]
                    H --&gt; I[Search User Database]
                    I --&gt; J{User Found?}
                    J --&gt;|No| K[Show Invalid Credentials]
                    K --&gt; L[Return to Auth Portal]
                    J --&gt;|Yes| M{Password Match?}
                    M --&gt;|No| K
                    M --&gt;|Yes| N[Login Successful]
                    N --&gt; O[Proceed to User Menu]
                    E --&gt; P[Enter New Username]
                    P --&gt; Q{Username Exists?}
                    Q --&gt;|Yes| R[Show Username Taken]
                    R --&gt; S[Return to Auth Portal]
                    Q --&gt;|No| T[Enter New Password]
                    T --&gt; U[Create User Account]
                    U --&gt; V[Save to Database]
                    V --&gt; W[Show Registration Success]
                    W --&gt; L
                </div>
<h3 id="flowcharts-data">Data Persistence Flow</h3>
<div class="mermaid">
                graph TD
                    A[Program Start] --&gt; B[Read Users File]
                    B --&gt; C[Read Movies File]
                    C --&gt; D[Read Tickets File]
                    D --&gt; E{Files Exist?}
                    E --&gt;|No| F[Create Default Data]
                    E --&gt;|Yes| G[Load Data into Arrays]
                    F --&gt; H[Write Default Files]
                    H --&gt; I[Main Program Loop]
                    G --&gt; I
                    I --&gt; J{Program Ending?}
                    J --&gt;|No| I
                    J --&gt;|Yes| K[Write Movies File]
                    K --&gt; L[Write Tickets File]
                    L --&gt; M[Write Users File]
                    M --&gt; N[Program Exit]
                </div>
</section>
<section id="file-io">
<h2>File I/O and Data Persistence</h2>
<h3>File Structure</h3>
<p>The system uses three text files for data persistence.</p>
<h4>1. <code>movie_list.txt</code></h4>
<ul><li><strong>Format:</strong> Each movie occupies 5 lines (Title, Genre, Showtime, Price, Seats).</li></ul>
<pre><code>Hereditary
Horror
11:00 PM - 01:20 AM
200
50
The Notebook
Romantic
08:30 PM - 10:10 PM
200
10</code></pre>
<h4>2. <code>tickets.txt</code></h4>
<ul><li><strong>Format:</strong> Each purchase occupies 6 lines (Title, Showtime, Count, Amount, Username, Date).</li></ul>
<pre><code>Hereditary
11:00 PM - 01:20 AM
2
400
john_doe
2024-01-15</code></pre>
<h4>3. <code>users.txt</code></h4>
<ul><li><strong>Format:</strong> Each user occupies 1 line: <code>username password</code>.</li></ul>
<pre><code>john_doe password123
jane_smith secure456</code></pre>
<h3>Data Integrity and Synchronization</h3>
<ul>
<li><strong>File Existence Checking:</strong> Read operations check if files exist. If <code>movie_list.txt</code> is missing, default data is created.</li>
<li><strong>Atomic Operations:</strong> Data is only written to files when the program exits cleanly, preventing partial saves.</li>
<li><strong>Comprehensive Saving:</strong> All data is saved before termination to ensure consistency.</li>
</ul>
<h3>File Data Formats</h3>
<ul>
<li><strong>movie_list.txt</strong>: 5 lines per movie — Title, Genre, Showtime, Price, Available Seats.</li>
<li><strong>tickets.txt</strong>: 6 lines per purchase — Movie Title, Showtime, Ticket Count, Total Amount, Username, Purchase Date.</li>
<li><strong>users.txt</strong>: Space-separated username and password per line.</li>
</ul>
</section>
<section id="navigation">
<h2>Navigating the System: Screen by Screen</h2>
<p>This guide provides a visual walkthrough of every screen in the JHS-CinePlex system, explaining its purpose and user interactions.</p>
<div class="screen-walkthrough">
<h4>1. Main Menu</h4>
<p>The central hub for accessing either the Administrator or Customer sections.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                               Welcome to JHS-CinePlex
================================================================================

   [1] Admin Login
   [2] Customer Login / Register
   [3] Exit

<span class="prompt">&gt;&gt; Enter your choice:</span></div></div>
<p><strong>Interaction:</strong> Enter <code>1</code> for Admin, <code>2</code> for Customer, or <code>3</code> to save data and exit.</p>
</div>
<div class="screen-walkthrough">
<h4>2. Customer Portal</h4>
<p>Allows customers to log in to an existing account or register a new one.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                                Customer Portal
================================================================================

   [1] Login
   [2] Register
   [3] Back to Main Menu

<span class="prompt">&gt;&gt; Enter your choice:</span></div></div>
<p><strong>Interaction:</strong> Enter <code>1</code> to log in, <code>2</code> to register, or <code>3</code> to go back.</p>
</div>
<div class="screen-walkthrough">
<h4>3. Customer Login</h4>
<p>Here, existing users enter their credentials to access their accounts.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                                 Customer Login
================================================================================

<span class="prompt">Enter Username:</span> <span class="user-input">john_doe</span>
<span class="prompt">Enter Password:</span> <span class="user-input">password123</span></div></div>
<strong>Possible Outcomes:</strong>
<div class="outcome"><span class="success">[SUCCESS]</span> Login successful!</div>
<div class="outcome"><span class="error">[ERROR]</span> Invalid username or password.</div>
</div>
<div class="screen-walkthrough">
<h4>4. New User Registration</h4>
<p>New users can create an account here. Usernames must be unique.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                             New User Registration
================================================================================

<span class="prompt">Enter a new username:</span> <span class="user-input">new_user</span>
<span class="prompt">Enter a new password:</span> <span class="user-input">new_pass</span></div></div>
<strong>Possible Outcomes:</strong>
<div class="outcome"><span class="success">[SUCCESS]</span> Registration successful! You can now log in.</div>
<div class="outcome"><span class="error">[ERROR]</span> Username already exists. Please try another.</div>
</div>
<div class="screen-walkthrough">
<h4>5. Customer Menu</h4>
<p>After a successful login, this is the main dashboard for customers.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                               Welcome, john_doe!
================================================================================

   [1] View Available Movies
   [2] Purchase Tickets
   [3] View My Purchase History
   [4] Logout

<span class="prompt">&gt;&gt; Enter your choice:</span></div></div>
<p><strong>Interaction:</strong> Choose an option to proceed or <code>4</code> to log out.</p>
</div>
<div class="screen-walkthrough">
<h4>6. View Available Movies</h4>
<p>This screen displays all movies in the system in a clean, tabular format.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                               Available Movies
================================================================================
No.  Title                          Genre              Price      Seats
----------------------------------------------------------------------------
1    Hereditary                     Horror             200        50
2    The Notebook                   Romantic           200        10
3    Boss Baby                      Family / Comedy    200        50
4    Harry Potter and the Goblet... Fantasy            500        <span class="info">[INFO] SOLD OUT</span>
5    Chander Pahar                  Adventure          500        50</div></div>
<p><strong>Interaction:</strong> This is a view-only screen. Press Enter to continue.</p>
</div>
<div class="screen-walkthrough">
<h4>7. Purchase Tickets</h4>
<p>This multi-step process allows users to select a movie and purchase tickets.</p>
<strong>Screen (Step 1: Selection)</strong>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                               Purchase Tickets
================================================================================
   [1] Hereditary (Horror) - Seats: 50
   [2] The Notebook (Romantic) - Seats: 10
   ...

   [0] Back to Main Menu

<span class="prompt">&gt;&gt; Enter movie number:</span></div></div>
<strong>Screen (Step 2: Confirmation)</strong>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">Selected: 'Hereditary' | Available Seats: 50
<span class="prompt">&gt;&gt; Enter number of tickets to buy:</span> <span class="user-input">2</span>

--- Purchase Summary ---
   Movie:   Hereditary
   Tickets: 2
   Total:   400
------------------------
<span class="prompt">&gt;&gt; Confirm purchase? (Y/N):</span></div></div>
<strong>Possible Outcomes:</strong>
<ul>
<li><span class="success">[SUCCESS] Purchase successful!</span></li>
<li><span class="info">[INFO] Purchase cancelled.</span></li>
<li><span class="error">[ERROR] Invalid ticket count. / Sorry, this movie is SOLD OUT.</span></li>
</ul>
</div>
<div class="screen-walkthrough">
<h4>8. View My Purchase History</h4>
<p>This screen shows a table of all tickets purchased by the logged-in user.</p>
<strong>Screen (With History)</strong>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                         Purchase History for john_doe
================================================================================
Date         Movie Title                    Tickets    Amount
-----------------------------------------------------------------
2024-01-15   Hereditary                     2          400
-----------------------------------------------------------------
Total Spent: 400</div></div>
<strong>Screen (No History)</strong>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">...
-----------------------------------------------------------------
<span class="info">[INFO] You have not made any purchases yet.</span></div></div>
</div>
<div class="screen-walkthrough">
<h4>9. Administrator Login</h4>
<p>Authorized administrators access the management panel here.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                              Administrator Login
================================================================================

<span class="prompt">Enter Admin Username:</span> <span class="user-input">Hasib</span>
<span class="prompt">Enter Admin Password:</span> <span class="user-input">hasib123</span></div></div>
<strong>Possible Outcomes:</strong>
<div class="outcome"><span class="success">[SUCCESS] Login successful. Welcome, Admin Hasib!</span></div>
<div class="outcome"><span class="error">[ERROR] Incorrect username or password. Access denied.</span></div>
</div>
<div class="screen-walkthrough">
<h4>10. Admin Panel</h4>
<p>The central dashboard for all administrative tasks.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                                   Admin Panel
================================================================================

   [1] Add New Movie
   [2] Edit Existing Movie
   [3] Remove Movie
   [4] View All Movies
   [5] View All User Purchases
   [6] Logout

<span class="prompt">&gt;&gt; Enter your choice:</span></div></div>
<p><strong>Interaction:</strong> Choose a number to perform an admin task or <code>6</code> to log out.</p>
</div>
<div class="screen-walkthrough">
<h4>11. View All Purchase History (Admin)</h4>
<p>A system-wide overview of all transactions from all users.</p>
<div class="terminal-window"><div class="terminal-header"><div class="terminal-dots"><span class="dot-red"></span><span class="dot-yellow"></span><span class="dot-green"></span></div></div><div class="terminal-body">================================================================================
                             All Purchase History
================================================================================
ID    Username             Movie Title                    Tickets    Amount
------------------------------------------------------------------------------
#1    john_doe             Hereditary                     2          400
#2    jane_smith           The Notebook                   1          200</div></div>
</div>
</section>
<section id="limitations">
<h2>Limitations and Future Improvements</h2>
<h3 id="limitations-current">Current Limitations</h3>
<h4>1. Security Limitations</h4>
<ul>
<li><strong>Password Storage:</strong> Passwords are stored in plaintext in <code>users.txt</code>.</li>
<li><strong>Admin Credentials:</strong> Hardcoded admin credentials cannot be changed without recompiling.</li>
</ul>
<h4>2. Data Management Limitations</h4>
<ul>
<li><strong>Fixed Array Sizes:</strong> The system is limited to 100 movies, 200 tickets, and 100 users.</li>
<li><strong>No Database:</strong> Simple text files are used, which are inefficient for large datasets.</li>
</ul>
<h4>3. User Interface Limitations</h4>
<ul>
<li><strong>CLI Only:</strong> No graphical user interface.</li>
<li><strong>No Search/Filter:</strong> Users cannot search for movies or filter them by genre/price.</li>
</ul>
<h4>4. Business Logic Limitations</h4>
<ul>
<li><strong>No Seat Selection:</strong> Generic seat counting without a visual seat map.</li>
<li><strong>No Cancellation:</strong> No system for cancelling tickets or processing refunds.</li>
</ul>
<h4>5. Performance Limitations</h4>
<ul>
<li><strong>Linear Search:</strong> All lookups use O(n) linear search algorithms.</li>
<li><strong>Memory Usage:</strong> All data is loaded into memory at startup, which is not scalable.</li>
</ul>
<h3 id="limitations-future">Future Improvements</h3>
<h4>1. Security Enhancements</h4>
<p>Implement password hashing (e.g., SHA-256) to avoid storing plaintext passwords.</p>
<pre><code class="language-c"><span class="c-preprocessor">#include &lt;openssl/sha.h&gt;</span>

<span class="c-type">void</span> <span class="c-function">hash_password</span>(<span class="c-keyword">const</span> <span class="c-type">char</span> *password, <span class="c-type">char</span> *hashed_output) {
    <span class="c-type">unsigned char</span> hash[SHA256_DIGEST_LENGTH];
    SHA256_CTX sha256;
    <span class="c-function">SHA256_Init</span>(&amp;sha256);
    <span class="c-function">SHA256_Update</span>(&amp;sha256, password, <span class="c-function">strlen</span>(password));
    <span class="c-function">SHA256_Final</span>(hash, &amp;sha256);
    <span class="c-comment">// ... convert hash to hex string ...</span>
}</code></pre>
<h4>2. Data Management Improvements</h4>
<p>Replace fixed-size arrays with dynamically allocated memory that can grow as needed, or integrate an embedded database like SQLite.</p>
<pre><code class="language-c"><span class="c-comment">// Example of resizing a dynamic array</span>
<span class="c-type">void</span> <span class="c-function">resize_database</span>(MovieDatabase *db) {
    <span class="c-type">int</span> new_capacity = db-&gt;capacity * <span class="c-number">2</span>;
    db-&gt;movies = <span class="c-function">realloc</span>(db-&gt;movies, new_capacity * <span class="c-keyword">sizeof</span>(Movie));
    <span class="c-comment">// Handle realloc failure...</span>
    db-&gt;capacity = new_capacity;
}</code></pre>
<h4>3. User Interface Enhancements</h4>
<p>Add functionality for users to search for movies by title or genre.</p>
<pre><code class="language-c"><span class="c-type">void</span> <span class="c-function">search_movies</span>(<span class="c-keyword">const</span> <span class="c-type">char</span> *search_term) {
    <span class="c-keyword">for</span>(<span class="c-type">int</span> i = <span class="c-number">0</span>; i &lt; movie_count; i++) {
        <span class="c-keyword">if</span>(<span class="c-function">strstr</span>(m[i].title, search_term) != NULL) {
            <span class="c-comment">// Print matching movie</span>
        }
    }
}</code></pre>
<h3 id="limitations-priority">Implementation Priority</h3>
<h4>High Priority</h4>
<ul>
<li><strong>Security:</strong> Password hashing and secure credential storage.</li>
<li><strong>Data Management:</strong> Switch to dynamic arrays or a database.</li>
<li><strong>Input Validation:</strong> Implement comprehensive validation for all user inputs.</li>
</ul>
<h4>Medium Priority</h4>
<ul>
<li><strong>Search Functionality:</strong> Movie and user search capabilities.</li>
<li><strong>Business Logic:</strong> Seat selection and a discount system.</li>
</ul>
<h4>Low Priority</h4>
<ul>
<li><strong>Advanced Features:</strong> Reporting system and notifications.</li>
<li><strong>Integration:</strong> Payment processing and email services.</li>
</ul>
</section>
<section id="dev-notes">
<h2>Development Notes</h2>
<h3 id="dev-notes-org">Code Organization</h3>
<h4>File Structure</h4>
<p>While the current implementation is a single file, a larger project should be structured modularly:</p>
<pre><code class="language-bash"><span class="bash-comment"># Recommended project structure</span>
cinema_system/
├── src/
│   ├── main.c
│   ├── admin.c
│   ├── user.c
│   └── data.c
├── include/
│   ├── admin.h
│   ├── user.h
│   └── data.h
└── data/</code></pre>
<h3 id="dev-notes-standards">Coding Standards</h3>
<h4>Naming Conventions</h4>
<ul>
<li><strong>Functions:</strong> <code>Pascal_Case_With_Underscores</code> (e.g., <code>Admin_Add_Movie</code>).</li>
<li><strong>Variables:</strong> <code>snake_case</code> (e.g., <code>movie_count</code>).</li>
<li><strong>Structures:</strong> <code>PascalCase</code> (e.g., <code>Movie</code>).</li>
</ul>
</section>
<section id="conclusion">
<h2>Conclusion</h2>
<p>This comprehensive documentation provides a complete overview of the JHS-CinePlex movie ticket booking system. The project demonstrates solid C programming fundamentals, modular design principles, practical data management techniques, and a strong focus on user experience through a visually enhanced CLI.</p>
<h3>Key Achievements</h3>
<ul>
<li><strong>Complete System:</strong> A full-featured movie booking system with dual role access.</li>
<li><strong>Visually Enhanced CLI:</strong> A polished, professional interface with styled headers, color-coded feedback, and formatted tables.</li>
<li><strong>Data Persistence:</strong> Reliable file-based data storage and retrieval.</li>
<li><strong>Modular Design:</strong> Well-organized code structure with a clear separation of concerns.</li>
</ul>
<h3>Learning Outcomes</h3>
<p>This project serves as an excellent learning tool for advanced C concepts, software design, data management, CLI design, and the full project lifecycle.</p>
<h3>Final Assessment</h3>
<p>This project successfully meets the requirements for a CSE115 semester final project, demonstrating proficiency in C programming, software design principles, and practical problem-solving skills. The comprehensive documentation ensures maintainability and provides a solid foundation for future development efforts.</p>
<br/>
<p><em>Documentation generated for JHS-CinePlex Movie Ticket Booking System.</em><br/>
<em>Last Updated: Current Date</em></p>
</section>
</main>
</div>
<script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
<script>
        // --- MERMAID INITIALIZATION ---
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                background: '#161b22',
                mainBkg: '#161b22',
                primaryColor: '#161b22',
                primaryTextColor: '#c9d1d9',
                lineColor: '#8b949e',
                secondaryColor: '#0d1117',
                tertiaryColor: '#161b22',
                nodeBorder: '#58a6ff',
                actorBorder: '#58a6ff'
            }
        });
        
        document.addEventListener('DOMContentLoaded', () => {
            const contentSections = document.querySelectorAll('.content section');
            const navLinks = document.querySelectorAll('.sidebar nav a');
            const mainNavItems = document.querySelectorAll('.sidebar nav > ul > li');
            const toggleButton = document.getElementById('sidebar-toggle');
            
            // --- SIDEBAR VISIBILITY TOGGLE ---
            toggleButton.addEventListener('click', () => {
                document.body.classList.toggle('sidebar-collapsed');
            });

            // --- MANUAL EXPAND/COLLAPSE ---
            mainNavItems.forEach(item => {
                const header = item.querySelector('div');
                if (header) {
                    header.addEventListener('click', (e) => {
                        // Prevent link navigation when clicking the div/icon
                        if (e.target.classList.contains('toggle-icon')) {
                             item.classList.toggle('expanded');
                        } else if (e.target.tagName !== 'A') {
                             item.classList.toggle('expanded');
                        }
                    });
                }
            });

            // --- FADE-IN ON SCROLL ---
            const sectionObserver = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { root: null, rootMargin: '0px', threshold: 0.1 });

            contentSections.forEach(section => {
                sectionObserver.observe(section);
            });
            
            // --- SCROLLSPY & AUTO EXPAND/COLLAPSE ---
            const onScroll = () => {
                let currentSectionId = '';
                
                // Find the current section in view
                contentSections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (window.scrollY >= sectionTop - 120) {
                        currentSectionId = section.getAttribute('id');
                    }
                });

                // Update nav links highlighting
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === currentSectionId) {
                        link.classList.add('active');
                    }
                });

                // Auto-expand/collapse sidebar sections
                const activeLink = document.querySelector('.sidebar nav a.active');
                if (activeLink) {
                    const activeParentLi = activeLink.closest('li[data-section]');
                    mainNavItems.forEach(item => {
                        if (item === activeParentLi) {
                            item.classList.add('expanded');
                        } else {
                            item.classList.remove('expanded');
                        }
                    });
                }
            };
            
            window.addEventListener('scroll', onScroll);
            onScroll(); // Run on load to set initial state
        });
    </script>

<button id="backToTopBtn" title="Go to top">↑</button>
<script>
// Show button on scroll
window.onscroll = function() {scrollFunction()};

function scrollFunction() {
    const btn = document.getElementById("backToTopBtn");
    if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
        btn.style.display = "block";
    } else {
        btn.style.display = "none";
    }
}

// Scroll to top
document.getElementById("backToTopBtn").addEventListener("click", function(){
    window.scrollTo({ top: 0, behavior: 'smooth' });
});
</script></body>
</html>
